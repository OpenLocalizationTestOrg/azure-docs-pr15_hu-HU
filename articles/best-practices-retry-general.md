<properties
   pageTitle="Általános útmutatásának újrapróbálkozási |} Microsoft Azure"
   description="Ismét az ideiglenes (tranziens) hiba kezelésének útmutatást."
   services=""
   documentationCenter="na"
   authors="dragon119"
   manager="christb"
   editor=""
   tags=""/>

<tags
   ms.service="best-practice"
   ms.devlang="na"
   ms.topic="article"
   ms.tgt_pltfrm="na"
   ms.workload="na"
   ms.date="07/13/2016"
   ms.author="masashin"/>

# <a name="retry-general-guidance"></a>Ismételje meg az általános útmutató

[AZURE.INCLUDE [pnp-header](../includes/guidance-pnp-header-include.md)]

## <a name="overview"></a>– Áttekintés

Kommunikáció a távoli szolgáltatás és az erőforrások minden alkalmazások bizalmas tranziens hibákra kell lennie. Ez a, különösen a felhőben, ahol a környezet és a kapcsolat az interneten keresztül a természeti azt jelenti, ilyen típusú hibák várhatóan gyakrabban előforduló futó alkalmazások esetében. Ideiglenes (tranziens) hibák többek között, a pillanatnyi funkcióvesztés a hálózati kapcsolat összetevők és a szolgáltatások, a szolgáltatás vagy a szolgáltatás elfoglalt esetén felmerülő időtúllépései ideiglenes elérhetetlenné. E hibák gyakran önálló helyesbítő, és a művelet megfelelő késleltetés után megismétlődik esetén valószínűleg sikertelen volt.

A dokumentum ideiglenes (tranziens) hiba kezelésének szóló általános útmutatás foglalkozik. Információt tranziens hibák kezelése a Microsoft Azure-szolgáltatások használatakor című témakörben talál [Azure szolgáltatásspecifikus irányelveket próbálkozzon újra](best-practices-retry-service-specific.md).

## <a name="why-do-transient-faults-occur-in-the-cloud"></a>Miért tegye tranziens hibák merülnek fel a felhőben?

Ideiglenes (tranziens) hiba akkor fordulhat elő, minden olyan környezetben, a platform vagy az operációs rendszer és a bármilyen típusú alkalmazás. A megoldások, hogy futtassa a helyi, a helyszíni infrastruktúra, a teljesítmény és az elérhetőség az alkalmazás és a összetevői általában karbantartása drága és gyakran a használt hardver redundancia keresztül, és összetevők és a források található közelébe minden egy másikra. Emiatt a hiba kisebb valószínűséggel, miközben továbbra is eredményezhet tranziens hibák - és még egy üzemszünetek előre nem látott eseményeket, például külső power ellátási vagy hálózati hibák vagy más katasztrófa esetben keresztül.

Felhőalapú szolgáltatója magánjellegű felhő rendszerek, többek között is kínálhatnak, egy újabb általános elérhetősége örvend számítási csomópontok nagyon nagy számos különböző megosztott erőforrásokat, redundancia, automatikusan átveszi és dinamikus erőforrás-hozzárendelés használatával. Azonban a jellegű környezetben is jelenti azt, hogy tranziens hibák nagyobb valószínűséggel fordul elő. Vannak ennek számos oka lehet:

* Sok erőforrást felhőalapú környezetben meg vannak osztva, és ezek az erőforrások teljes egészében védelme az erőforrás-szabályozás fizetnie. Egyes szolgáltatások elutasítják az kapcsolatok, a betöltés egy bizonyos szintre nő, vagy az átviteli maximális sebesség lejár, annak érdekében, hogy a meglévő kéréseket feldolgozásának engedélyezése és az összes felhasználó számára üzemi megőrzéséhez. Szabályozásának megkönnyíti megőrzéséhez szomszédok és más használatával az erőforrásra bérlők szolgáltatás minőségének.
* Felhőalapú környezetben kialakításának örvend hardver egységek döntő számok használatával. Teljesítményt nyújtsa azáltal, hogy dinamikusan a betöltés több számítógépes mennyiség és infrastruktúra-összetevők, és megbízhatóságára előadása automatikusan újrafelhasználás vagy sikertelen egységek cseréje. A dinamikus természeti, az azt jelenti, hogy tranziens hibák és az ideiglenes csatlakozási hibák alkalmanként akkor fordulhat elő.
* További hardver-összetevő, ideértve például az útválasztó és terheléselosztókkal, az alkalmazás és a források és szolgáltatásokat használ közötti hálózati infrastruktúrát gyakran vannak. Ez a infrastruktúrájának bővítéseit alkalmanként is bevezetésére, kapcsolat további késés és az ideiglenes (tranziens) csatlakozási hibák.
* Az ügyfél és a kiszolgáló közötti hálózati feltételek változó, lehet, különösen akkor, ha a kapcsolati metszéspontja az internethez. Még a helyszíni helyek nagyon nagy forgalom terhelések lassú kommunikációs és szakaszos csatlakozási hibák okozhatnak.

## <a name="challenges"></a>Kihívásokkal kapcsolatban
Tranziens hibák befolyásolhatja a nagyon nagy a észlelt rendelkezésre álló egy alkalmazást, akkor is, ha alapos teszteléssel várható körülmények. Győződjön meg arról, hogy a felhőben tárolt alkalmazások biztos, hogy működjön, hogy azok kell tennie a következő problémáit válaszolni:

* Az alkalmazás kell tennie a hibák feltárása, amikor fordul elő, és határozza meg, ha ezeket a hibákat valószínűleg tranziens, több hosszú ideig tart, vagy Terminálszolgáltatások hibák. Más erőforrások várhatóan különböző válaszok eredményével, ha a hiba fordul elő, és a válaszokat is eltérőek lehetnek attól függően, hogy a művelet; környezetében például a válasz-tárhelyről olvasásakor hiba eltérhet hibát válasz tárolóhoz írásakor. Számos erőforrások és szolgáltatások van dokumentált átmeneti hiba szerződést. Jó helyen jár, ha nem áll rendelkezésre, ezeket az információkat lehet nehezen ismerhető fel a hiba, és hogy azt valószínűleg tranziens jellegét.
* Az alkalmazás képes ismételje meg ezt a műveletet, ha úgy dönt, hogy a hiba várhatóan ideiglenes (tranziens), és nyomon követheti a hányszor volt az újból a műveletet kell lennie.
* Az alkalmazás a próbálkozások megfelelő stratégiát kell használnia. Ez a beállítás azt meg kell ismételni, a késleltetés minden kísérlet során, és a tevékenységek között sikertelen kísérlet után érvénybe alkalommal számát adja meg. A megfelelő számú kísérletek és között egyenként késleltetés nehezen gyakran határozza meg, és eltérő típusú erőforrások, valamint az erőforrás-és az alkalmazás magát aktuális állapotáról feltételek alapján.

## <a name="general-guidelines"></a>Az általános útmutató
Az alábbi útmutatásokat segít a megfelelő tranziens hibafa átadás később mechanizmusként tudják az alkalmazások megtervezése:

* **Állapítsa meg, hogy van-e egy beépített újrapróbálkozási mechanizmusa:**
  * Sok SDK vagy egy ügyfél tárról, amely tartalmaz egy ideiglenes (tranziens) hiba kezelésének mechanizmusa biztosítanak. Az ismét házirendet, akkor használja a szokásos üzleti intelligenciára szabott természeti és a cél szolgáltatás követelményeinek. Azt is megteheti a többi felületek szolgáltatások esetleg információt, amely hasznos annak megállapítása, hogy próbálkozásra helyes, és mennyi ideig várakozás után a következő újrapróbálkozási kísérlet.
  * A beépített újrapróbálkozási mechanizmusa használja, ahol egy áll rendelkezésre, kivéve, ha rendelkezik az adott és jól érthető követelményeknek jelenti, hogy egy másik újrapróbálkozási viselkedés megfelelőbb.
* **Ha a művelet számára, hogy újra próbálkozik megfelelő meghatározása**:
  * Műveletek csak meg kell ismételni, ahol a hibák tranziens (általában az a hiba természeti jelölt), és legalább néhány annak valószínűsége, hogy a művelet sikeres lesz, amikor reattempted esetén. A műveletek, például az adatbázis érvénytelen műveletet jelző megoldódhat nincs pont az elemek, amelyek nem létezik, frissítése és kéréseket szolgáltatás vagy erőforrás, amely a kritikus hibák érte
  * Végre kell hajtania az általános újrapróbálkozások, csak ha ez a teljes hatást határozható meg, és feltételek is jól érthető és érvényesítheti. Ha nem, hagyja meg a hívó kód újrapróbálkozások végrehajtásához. Ne feledje, hogy a hibák erőforrások által visszaadott vezérelhet szolgáltatások verzióinformációk is, és előfordulhat, hogy a tranziens hibafa észlelési algoritmus látogatnia.
  * Szolgáltatások és -összetevők létrehozásakor célszerű műveletek végrehajtási hibakódok és üzenetek, amely segítséget nyújt az ügyfelek határozza meg, hogy azokat meg kell ismételni nem sikerült. Mindenekelőtt jelezheti, ha az ügyfél ismételje meg a műveletet (akár, amelyet egy **isTransient** értéket visszaadó) és a megfelelő késleltetés a következő újrapróbálkozási kísérlet előtt javasolt. Webszolgáltatás hoz létre, ha célszerű belül a szolgáltatási szerződés definiált egyéni hibát visszaadó. Akkor is, ha előfordulhat, hogy általános ügyfelek nem tud e olvasható, ezek lesznek hasznos egyéni ügyfelek készítésekor.
* **Egy megfelelő kísérletek száma és intervallum határozza meg:**
  * Nagyon fontos a kísérletek számát, és milyen típusú használatieset intervallum optimalizálása. Ha nem ismételje meg a megfelelő számú alkalommal, az alkalmazás nem tudja végrehajtani a műveletet, és valószínűleg a hibát észlel. Ha túl sokszor próbálja meg újra, vagy a közötti túl rövid elvégezve próbálja, és az alkalmazás esetleg tárolható erőforrások szálak, kapcsolatok és memóriát – például hosszú ideig, amelyek negatív hatással van az alkalmazás állapotának.
  * A megfelelő értékeket az időszakot, és újra kísérletek száma attól függenek, hogy a művelet éppen próbált típusát. Például a műveletet egy felhasználói beavatkozás része, ha az intervallum kell rövid és elkerülése érdekében, hogy a felhasználók Várakozás a válaszra próbált csak néhány visszatérések (amely rendelkezik a kapcsolatok ablak megnyitásához, és csökkentheti a elérhetősége más felhasználók számára). A művelet része a hosszú futó vagy kritikus munkafolyamat-hol található a korrektúrát, és indítsa újra a folyamatot, hogy drága vagy időigényes, érdemes kísérletek között már várja meg, és próbálkozzon újra a többször megfelelő.
  * Annak megállapítása, a megfelelő időközönként visszatérések között része a legtöbb nehéz sikeres stratégia tervezése. Tipikus stratégiák használja az alábbi típusú újrapróbálkozási időköz:
      * **Exponential vissza ki**. Az alkalmazás az első újrapróbálkozási és exponenciálisan növekvő időpontok közötti minden későbbi újrapróbálkozási előtt rövid idő várakozik. Előfordulhat például, 3 másodperces, 12 másodperc, 30 másodperc múlva próbálkozzon ismét, és így tovább.
      * **Növekményes intervallumok**. Az alkalmazás az első újra gombra, és fokozatosan növekszik időpontok közötti minden későbbi újrapróbálkozási előtt rövid idő várakozik. Előfordulhat például, 3 másodperces, 7 másodpercet, 13 másodperc múlva próbálkozzon ismét, és így tovább.
      * **Rendszeres időközönként**. Az alkalmazás megvárja, amíg az egyes kísérletek közötti időtartamot időben. Ha például azt is ismételje meg a műveletet minden 3 másodperces.
      * **Közvetlen próbálkozzon újra**. Előfordul, hogy egy ideiglenes (tranziens) hiba rendkívül rövid egy eseményt, például hálózati csomag ütközés vagy a Nyárs hardver-összetevő talán okozza. Ebben az esetben a művelet azonnal újraküldése oka megfelelő sikerülhet meg, ha a hiba az idő, amíg az alkalmazás állíthat össze, és küldje el a következő összehívást az van bejelölve. Azonban soha nem kell egynél több közvetlen újrapróbálkozási kísérlet, és meg kell váltani alternatív stratégiák, például exponenciális vissza ki- és alaplekérdezések műveletek, például ha az azonnali újrapróbálkozási nem sikerül.
      * A **véletlenszerű**. A fent felsorolt stratégiák újrapróbálkozási bármelyikét tartalmazhatják egy, hogy az ügyfél küldése későbbi újrapróbálkozási kísérletek egyszerre több példány véletlenszerű. Ha például egy példány próbálkozzon újra 3 másodperces, 11 másodperc, 28 másodperc és egyebekkel, miközben egy másik példányában próbálkozzon újra 4 másodperc múlva 12 másodperc, 26 másodperc után és így tovább. Véletlenszerű a hasznos technika, előfordulhat, hogy lehet kombinálni más stratégiák.  
  * Az általános útmutató, mint használata exponenciális vissza ki stratégia háttér műveletek és azonnali vagy normál intervallum újrapróbálkozási stratégiák interaktív műveletekhez. Mindkét esetben kell választania a késleltetés és a kísérletek számát, hogy a legnagyobb várakozási összes újrapróbálkozások szükséges végpontok közötti késés kötelező belül.
  * Figyelembe vennie, ha a teljes maximális időkorlátot próbálkozott újra művelet beleszámító tényezőket. A tényezők kapcsol (általában az ügyfél időtúllépés értéke szerint beállítása) választ sikertelen kapcsolat szükséges idő és a késleltetés újrapróbálkozási kísérletek és újrapróbálkozások maximális száma közötti között szerepel. Az összes állandó letiltása eredményezhet nagyon nagy általános művelet időpontok, különösen ha használja az exponenciális késleltetés stratégia hol közötti intervallum próbálkozások megnő gyorsan minden hiba után. Ha egy folyamat egy adott szolgáltatásiszint-szerződés (SLA) kell megfelelnie, általános művelet ideje, beleértve az összes időkorlátok és késleltetése, belül, amely definiálni kell a SLA
  * Over-Aggressive újrapróbálkozási stratégiák, amely túl rövid intervallumok van, vagy túl előfordulhat, hogy próbálkozások, beállíthatja, hogy a célhely erőforrás-szolgáltatás ártalmas. Ez megakadályozhatja az erőforrás-szolgáltatás helyreállítása túlterhelt állapotát, és továbbra is blokkolni vagy elutasítására kérések. Ez egy vicious körben, ahol további és további összehívásokat, az erőforráshoz vagy szolgáltatás, és ezért képességét a visszaállítandó eredmények további csökken.
  * Figyelembe kell venni az időkorlát műveletek indítása a későbbi próbálkozásra azonnal (Ha például a határidő hasonlít az újrapróbálkozási időköz) elkerülése érdekében az újrapróbálkozási időközöket kiválasztásakor. Is figyelembe vennie, ha az összes lehetséges időszak (az időkorlát plusz az újrapróbálkozási időközöket) egy adott teljes ideje alatt tartani. Műveletek, amelyek rendkívül rövid vagy túl hosszú időtúllépései befolyásolhatják, mennyi ideig várjon, és hogy milyen gyakran ismételje meg a műveletet szeretne.
  * A kivétel, és a semmilyen adatot tartalmaz használja, vagy a hibakódok és üzenetek a szolgáltatásból történő optimalizálásához az intervallumra, és az ismétlések számát adja vissza. A példa, néhány kivétel, vagy a hiba kódok (például a HTTP-válasz újrapróbálkozási után fejlécet tartalmazó 503 Service Unavailable kód) jelezheti, mennyi ideig utolsó előfordulhat, hogy az a hiba, vagy ha a szolgáltatás nem sikerült, és nem válaszol a későbbi kísérel meg.
* **Ne levélszemét mintázatok**:
  * Az esetek többsége ne ismétlődő rétegek újrapróbálkozási kódot tartalmazó megvalósítás. A hibák elkerüléséhez látványtervek kaszkádolt újrapróbálkozási mechanizmusok tartalmazó, illetve, amely végrehajtása egy műveletet, amely magában foglalja a hierarchia megkeresések, minden szakaszában ismét, kivéve, ha rendelkezik adott követelményeket, igény szerint. Kivételes körülmények között használható házirendeket, amelyek megakadályozzák a fölösleges visszatérések és a késleltetés időszakok száma, és győződjön meg arról, hogy megismeri a következmények. Például egy összetevő megkeresést egy másikra, mely a cél szolgáltatást, és végrehajtja a három mindkét lesz hívásoknál számának az Ismét gombra, majd bejáratok kilenc újra próbálja szemben a szolgáltatás teljes. Sok szolgáltatás és az erőforrások végrehajtása egy beépített újrapróbálkozási eljárást, és meg kell vizsgálja meg, hogyan letiltása vagy módosítani ezt, ha a magasabb szintű újrapróbálkozások végrehajtásához szükséges.
  *  Soha nem hajtja végre egy végtelen újrapróbálkozási mechanizmusa. Megakadályozhatja, hogy az erőforrás-helyreállítás túlterhelés esetek, amikor a szolgáltatás, ezáltal szabályozásának valószínűleg, és továbbra is hosszabb ideig kapcsolatok elutasított. Függvényt szám vagy újrapróbálkozások, vagy például [megszakító](http://msdn.microsoft.com/library/dn589784.aspx) állíthatja helyre a szolgáltatás engedélyezése mintát végrehajtása.
  * Soha ne hajtsa végre a egy azonnali újrapróbálkozási többször.
  * Kerülje a normál újrapróbálkozási időköz, különösen akkor, ha a szolgáltatások és erőforrások Azure-ban történő elérésekor újrapróbálkozási kísérletek, sok van. Az optimális megközelítés érték ebben az esetben az exponenciális vissza ki stratégia egy áramkör aktuális lehetőséggel.
  * Ugyanazon ügyfél több példányával, vagy több példányával különböző ügyfelek, a azonos időpontokban újrapróbálkozások küldésének letiltása Ha valószínű, mutassa be a újrapróbálkozási intervallumokba véletlenszerű.
* **Tesztelje a újrapróbálkozási stratégiát és végrehajtása:**
  * Gondoskodjon arról, hogy teljesen tesztelnie a stratégia újrapróbálkozási példányába széles beállított esetekben a lehető, különösen akkor, amikor is az alkalmazás és a cél erőforrások és szolgáltatások akkor is rendkívül terhelés alatt. A tesztelés során viselkedés ellenőrzéséhez a következőkre van lehetősége:
      * A szolgáltatás helyezhet el a ideiglenes (tranziens), és nem tranziens hibáit. Érvénytelen kérelmek küldhet például, vagy adja hozzá a kódot, amely észleli próba kérelmeket, és válasza egy másik típusú hibákat. Példa szolgáltatással TestApi, olvassa el [A TestApi tesztelése utasítások beszúrását hibafa](http://msdn.microsoft.com/magazine/ff898404.aspx) és [TestApi – 5 kijelző – Bevezetés: felügyelt kódot hibafa utasítások beszúrását API-khoz](http://blogs.msdn.com/b/ivo_manolov/archive/2009/11/25/9928447.aspx).
      * Hozzon létre egy mock, erőforrás vagy szolgáltatás, amely egy cellatartomány, amely a valós szolgáltatás esetleg hibát ad vissza. Győződjön meg róla, akkor minden kategóriájára a hiba, amely a újrapróbálkozási vonatkozó stratégia feltárása lett tervezve.
      * Kényszerített ideiglenes (tranziens) hibát ideiglenes letiltásával vagy a szolgáltatás túlterhelés, ha egy egyéni szolgáltatás létrehozott, és telepítve (Ön nem természetesen megpróbálja megosztott erőforrásokat túlterhelés vagy megosztott szolgáltatások Azure belül).
      * A HTTP-alapú API-hoz fontolja meg a FiddlerCore tárba, a automatikus tesztek az így létrejövő HTTP-kérelmeket, módosíthatja a felesleges oda időpontok hozzáadásával vagy a kérdésre adott választ (például a HTTP-állapotkód, élőfejek, szervezet vagy egyéb tényezők) módosításával. A szolgáltatás lehetővé teszi a hiba feltételek csak egy részhalmazát mérvadó tesztelése e tranziens hibáit, vagy más típusú hiba. További tudnivalókért olvassa el a [FiddlerCore](http://www.telerik.com/fiddler/fiddlercore)című témakört. Példák, hogyan használhatja a tárat, különösen a **HttpMangler** osztály vizsgálja meg a [az Azure tároló SDK forráskód](https://github.com/Azure/azure-storage-net/tree/master/Test).
      * Nagy terhelés tényező és biztosítása érdekében, hogy a újrapróbálkozási mechanizmusa és stratégia működik helyesen alábbi feltételek mellett, és nem káros hatással a művelet az ügyfél vagy határokon-fertőzés kérelmek között okozó egyidejű tesztek végrehajtása
* **Ismét házirend-beállítások kezelése:**
  * _Ismételje meg a házirend_ az elemek, a kísérletek stratégia kombinációi. Azt határozza meg, hogy az észlelési folyamat, amely meghatározza, hogy egy hiba valószínűleg ideiglenes (tranziens), az intervallum használandó (például a normál, exponenciális vissza ki, és véletlenszerű), a tényleges intervallum érték(ek), és hogy hányszor forduljon az újbóli próbálkozáshoz típusát.
  * Újrapróbálkozások még a legegyszerűbb alkalmazás számos területén, és minden réteg összetettebb alkalmazások végre kell hajtani. Helyett a merevlemez-kódolási különböző helyeken az egyes házirendek az elemeket, akkor fontolja meg egy központi helyen tárolására a házirendek az összes. Például az érték, például az intervallum, és ismételje meg az alkalmazás-konfiguráció fájlok száma, futásidőben olvasáshoz és programozás útján összeállítása a újrapróbálkozási házirendek. Így könnyebben kezelheti a beállításokat, és annak érdekében, hogy megválaszolása követelmények és -esetek módosítása optimalizálhatja az értékeket és módosítása. A rendszer az érték, hanem a konfiguráció rereading a minden alkalommal fájlt, és győződjön meg róla, megfelelő alapértelmezett használatosak, ha az értékeket nem nyert konfigurációs azonban tervezése
  * Az Azure Cloud Services alkalmazásokban fontolja meg, az értékeket, hogy is módosítható anélkül, hogy indítsa újra az alkalmazást a szolgáltatás konfigurációs fájl futásidőben a újrapróbálkozási házirendek létrehozásához használt tárolásához.
  * Kihasználhatja beépített vagy alapértelmezett újrapróbálkozási stratégiák érhető el az ügyfélprogram API-khoz használ, de csak ha megfelelnek az Ön esetében. Ezek a stratégiák általában általános célú. Bizonyos esetekben lehet szükséges az összes, de más esetben nem ajánlhat fel azokat a beállításokat az igényeinek, az adott követelményeket teljes körét. Látnia kell a beállítások hogyan befolyásolják az alkalmazás – teszteli a leginkább megfelelő értékek.
* **Jelentkezzen be, és nyomon követheti az ideiglenes (tranziens), és nem tranziens hibák:**
  * A újrapróbálkozási vonatkozó stratégia részeként a kivétel- és egyéb műszerezettségi, ha ismét kísérlet bejelentkező tartalmazza. Miközben alkalmi átmeneti hiba, majd próbálkozzon újra várhatóan, és nem jelezheti, a probléma, normál és növekvő számok az ismétlések gyakran a hibát, amely hibákat okozhatnak, vagy éppen érintő a alkalmazás teljesítményének és elérhetőség mutatója.
  * Ideiglenes (tranziens) hibák jelentkezzen hiba bejegyzéseket, hanem figyelmeztetés bejegyzéseket, hogy a felügyeleti rendszerek nem észleli azokat az őket, előfordulhat, hogy hamis értesítéseket kiváltó alkalmazáshibák.
  * Fontolja meg egy érték tárolása a naplóbejegyzések, amely azt jelzi, ha a visszatérések okozta szabályozásának a szolgáltatásban, illetve más típusú hibákat csatlakozási hibák, például, hogy azok az adatok elemzése során is megkülönböztetéséhez. Szabályozási hibák számának növekedését legtöbbször jelölő, amely az alkalmazást, vagy váltson a támogatási szolgáltatás, amely felajánlja a hardveres kell tervezés hibát jelez.  
  * Fontolja meg mérési és naplózás műveleteket egy újrapróbálkozási mechanizmusa tartalmazó átfogó idő. Az ideiglenes (tranziens) hibák általános hatása a jó mutató felhasználói válaszidő, folyamat késés és az alkalmazás használati eset hatékonyságát. Log az ismétlések számát is történt annak érdekében, hogy a tényezőkkel, amelyek járult hozzá válaszidő megértéséhez.
  * Fontolja meg egy telemetriai végrehajtása és nyomon követése a rendszer, amely emelheti értesítések, ha a szám és hibák mértéke, az átlag ismétlések számát, vagy az általános időpontok sikeres, műveletekhez készített növekszik.
* **Műveletek, amely folyamatosan sikertelen kezelése:**
  * Körülmények között, ahol a művelet továbbra is minden kísérlet sikertelen, és fontosságú fontolja meg, hogyan kezeli, ezt a helyzetet lesz:
      * Bár a maximális száma egy műveletet meg kell ismételni újrapróbálkozási stratégia határozza meg, az ismétlődő a műveletet, ugyanazt az ismétlések számát az alkalmazás nem akadályozza meg. Például-szolgáltatás feldolgozási sorrendben helyezi a művelet kívül véglegesen kritikus hibával meghiúsul, ha az újra stratégia előfordulhat, hogy a kapcsolat időtúllépési észleli és fontolja meg, hogy legyen a ideiglenes (tranziens) hiba. A kód ismételje meg a megadott számú alkalommal műveletet, és a majd adjon. Azonban, ha egy másik vevői rendelés, a művelet a rendszer kísérli újra - annak ellenére, hogy azt meg arról, hogy minden alkalommal sikertelen lesz.
      * Folytonos újrapróbálkozások, amely folyamatosan sikertelen műveletekhez elkerülése érdekében fontolja meg, a [megszakító mintát](http://msdn.microsoft.com/library/dn589784.aspx)végrehajtása. Ezt a minta az egy adott időben ablakon belül a kudarcok száma meghaladja, ha kérések visszaadott a hívó azonnal hibák, anélkül, hogy a sikertelen erőforrás-szolgáltatás elérésekor.
      * Az alkalmazás rendszeres tesztelheti a szolgáltatást, és kérelmek, amikor elérhetővé válik feltárása között nagyon sok intervallumokkal folyamatos kombinálásával. Megfelelő elvégezve az alkalmazási példát, például a művelet a kritikusság és a szolgáltatást, jellegét attól függ, és előfordulhat, hogy semmit néhány percet, és több óra között. Azon a ponton, ahol a vizsgálat sikerül az alkalmazás folytassa a munkát, és kéréseket átadni az újonnan helyreállított szolgáltatás.
      * Időközben lehet Visszatérés a szolgáltatás (esetleg más adatközponthoz vagy alkalmazás) egy másik példányát, hasonló kompatibilis (talán egyszerűbb) funkciókat kínáló szolgáltatás, illetve bizonyos alternatív műveleteket az, hogy a szolgáltatás lesz elérhető hamarosan Reménység lehetséges. Például célszerű lehet a szolgáltatási kérelem tárolásához egy sorban vagy adatok tárolására, és később újra játszhat. Ellenkező előfordulhat, hogy a felhasználó átirányítása egy másik példányának az alkalmazás, a teljesítményét az alkalmazás, de továbbra is a elfogadható funkciókat kínál, vagy egyszerűen visszatérhet egy üzenetet a felhasználónak, ezzel jelezve, hogy az alkalmazás nem érhető el a bemutatót.

* **Egyéb szempontok**
  * Kiválasztásakor az ismétlések számát értékének és az újrapróbálkozási időközöket házirendhez, fontolja meg, ha a művelet a szolgáltatásra vagy az erőforrás része a hosszú ideig futó vagy több elem lépés műveletet. Lehet, hogy nehéz vagy a többi, amely már sikerült egy műveleti lépéseket egyenlíti költséges hiba jelenik meg. Ebben az esetben a nagyon sok időköz és sok visszatérések is elfogadható mindaddig, amíg ki nem blokkolja egyéb műveletek által tartó vagy ritka források zárolása.
  * Fontolja meg, hogy újra próbálkozik azonos művelet okozhat következetlenségek az adatok. Meg kell ismételni egyes részeinek a lépéseken, és a műveletek nem idempotent, ha eltérést tapasztal vonhat azt. Ha például egy műveletet, amely egy értékkel növeli ismételni, ha hoznak létre érvénytelen eredményt. Üzenet küldése egy várólista művelet ismétlése okozhat eltérést tapasztal az üzenet fogyasztói, ha nem ismeri fel az ismétlődő üzeneteket. Ennek elkerülése érdekében győződjön meg róla, minden egyes lépés idempotent műveletként tervezésű. Idempotencia kapcsolatos további tudnivalókért olvassa el a [Idempotencia mintázatok](http://blog.jonathanoliver.com/2010/04/idempotency-patterns/)című témakört.
  * Fontolja meg a műveleteket, amelyek megpróbálja körét. Ha például lehet, hogy könnyebben megvalósítása újrapróbálkozási kódot, amely magában foglalja a több művelet egy szinten, és újra azokat, ha egy sikertelen. Jó helyen jár ezzel vonhat idempotencia problémák vagy a szükségtelen visszaállítási művelet.
  * Ha úgy dönt, hogy ismét hatókör, amely magában foglalja a több műveletre, figyelembe véve a teljes időtartama az összes őket az újrapróbálkozási időközöket meghatározásakor, ha az időt figyeli, valamint a hibák riasztásainak előléptetése előtt.
  * Fontolja meg, hogyan a újrapróbálkozási vonatkozó stratégia hatással lehet szomszédok és a megosztott alkalmazások, illetve más bérlők megosztott erőforrásokat és a szolgáltatások használata során. Olyan szigorú újrapróbálkozási házirendek növekvő számú előforduló, ezek a felhasználók számára, és az alkalmazások megosztani az erőforrások és a szolgáltatások tranziens hibák okozhatnak. Hasonlóképpen az alkalmazás a újrapróbálkozási házirendek az erőforrások és a szolgáltatások mások által végrehajtott befolyásolhatja. Kulcsfontosságú alkalmazásokhoz határozhat meg nem osztott prémium szolgáltatások használatához. Ez biztosít a betöltés és a következő erőforrások és a szolgáltatások, amelyek segítséget nyújtanak a további költség Sorkizárás csatlakozása szabályozásának rengeteg szabályozható.

## <a name="more-information"></a>További információ

* [Azure szolgáltatásspecifikus újrapróbálkozási útmutató](best-practices-retry-service-specific.md)
* [Az ideiglenes (tranziens) hiba kezelésének alkalmazás letiltása](http://msdn.microsoft.com/library/hh680934.aspx)
* [Megszakító mintával](http://msdn.microsoft.com/library/dn589784.aspx)
* [Végtermék tranzakció mintával](http://msdn.microsoft.com/library/dn589804.aspx)
* [Idempotencia mintázatok](http://blog.jonathanoliver.com/2010/04/idempotency-patterns/)
